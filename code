#include <iostream>
using namespace std;

class Queue
{
private:
	int front;
	int back;
	int n;
	int* q;
public:
	Queue()  //konstruktorius 
	{
		front = -1;
		back = -1;
		n = 10;
		q = new int[n];
		for (int i = 0; i < n; i++)
			q[i] = NULL;
	}

	bool full() {
		for (int i = 0; i < n; i++) {
			if (front == 0 && back == n-1 ||
				back == 0 && front == n-1 ||
				back == front-1) return true;
		}
		return false;
	}

	void enqueue(int value)
	{
		if (full()) cout << "Queue is full" << endl;
		else {
			if (front == -1) {
				front++;
				q[front] = value;
				back = front;
			}
			else {
				if (back != n - 1 && !full()) {
					back++;
					q[back] = value;
				}
				else if (back == n - 1 && !full()) {
					back = 0;
					q[back] = value;
				}
			}
		}
	}

	void dequeue() {
		if (isEmpty()) cout << "Queue is empty" << endl;
		else {
			if (front != n - 1) {
				q[front] = NULL;
				front++;
			}
			else {
				q[front] = NULL;
				front = 1;
			}
		}
	}

	void display()
	{
		for (int i = 0; i < n; i++)
			if (q[i] != NULL) cout << q[i] << " ";
		cout << endl;
	}

	void peek() {
		cout << q[front] << endl;
	}

	bool isEmpty() {
		for (int i = 0; i < n; i++)
			if (q[i] != NULL) return false;
		return true;
	}

	void clear() {
		for (int i = 0; i < n; i++)
			q[i] = NULL;
		front = -1;
		back = -1;
	}


	int size() {
		int temp = 0;
		if (front <= back && front != -1){
			for (int i = front; i <= back; i++)
				temp++;
		}                                               // else if doesnt work correctly
		else if (front != -1 && back < front) {
			for (int i = front; i < n; i++)
				temp++;
			for (int i = back; i < front; i++) {
				if (q[i] != NULL)
					temp++;
			}
		}
		return temp;
	}

	void reverse() {
		int a[10];
		for (int i = 0; i < n; i++)
			a[i] = q[i];
		int k = 0;
		for (int i = n - 1; i >= 0; i--) {
			q[i] = a[k];
			k++;
		}
	}

};

class menu {
private:
	Queue qu;
public:
	void Commands(int a) {
		if (a == 0) DisplayFunc();
		if (a == 1) {
			int aa;
			cout << "iveskite skaiciu" << endl;
			cin >> aa;
			qu.enqueue(aa);
		}
		if (a == 2)
			qu.dequeue();
		if (a == 3)
			qu.peek();
		if (a == 4)
			qu.display();
		if (a == 5)
			qu.clear();
		if (a == 6)
			cout << qu.size() << endl;
		if (a == 7)
			qu.reverse();
	}

	void DisplayFunc() {
		cout << "visos galimos operacijos:\n1) enqueue() - prideti elementa,\n2) dequeue() - pasalinti elementa,\n3) peek() - perziureti pirma elementa,\n4) display() - spausdinti eile,\n5) clear() -  isvalyti eile,\n6) size() - parodyti eiles dydi,\n7) reverse() - apsukti eile." << endl;
	}

};

int main()
{
	menu a;
	while (true) {
		int b;
		cout << "MENU :: iveskite 0, jei norite pamatyti galimas funkcijas, 8 - iseiti  ::" << endl;
		cin >> b;
		if (b == 8) break;
		cout << endl;
		a.Commands(b);
		cout << endl;
	}
	system("pause");
	return 0;
}

